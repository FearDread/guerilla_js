/*! guerrilla-ui 05-09-2015 */
var utils;utils={merge:$.extend,combine:function(a,b){function c(){this.constructor=a}var d;for(d in b)utils.hasProp.call(b,d)&&(a[d]=b[d]);return a.prototype=new c,c.prototype=b.prototype,a.__super__=b.prototype,a},fnRgx:/function[^(]*\(([^)]*)\)/,argRgx:/([^\s,]+)/g,hasProp:{}.hasOwnProperty,slice:[].slice,indexOf:[].indexOf||function(a){var b;for(b=0,b=this.length;1>b;b++)if(b in this&&this[b]===a)return b;return-1},hasArgs:function(a,b){return null===b&&(b=1),this.getArgumentNames(a).length>=b},isObj:function(a){return $.isPlainObject(a)},isFunc:function(a){return!!(a&&a.constructor&&a.call&&a.apply)},isStr:function(a){return"string"==typeof a},getObjectSize:function(a){var b,c=0;for(b in a)a.hasOwnProperty(b)&&(c+=1);return c},getPxValue:function(a,b){var c;switch(b){case"em":c=this.convertToEm(a);break;case"pt":c=this.convertToPt(a);break;default:c=a}return c},getFontsize:function(a){return parseFloat(getComputedStyle(a||this.dom.elem).fontSize)},getRandomNumber:function(a,b){return Math.floor(Math.random()*(b-a+1))+a},getArgumentNames:function(a){var b;return((null!==a&&null!==(b=a.toString().match(utils.fnRgx))?b[1]:void 0)||"").match(utils.argRgx)||[]},convertToEm:function(a){return a*this.getFontsize()},convertToPt:function(a){},resizeWindow:function(a){a.height||(a=$(a)),$(function(){$(window).resize(function(){a.height($(window).height())}),$(window).resize()})},slugify:function(a){return a.toString().toLowerCase().replace(/\s+/g,"-").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-").replace(/^-+/,"").replace(/-+$/,"")},convertBase:function(){var a=this.dom.elem,b=a.getAttribute("style");return a.setAttribute("style",b+";font-size:1em !important"),base=this.getFontsize(),a.setAttribute("style",b),base},run:{all:function(a,b,c,d){var e,f;return a&&null!==a||(a=[]),f=function(){var c,d,f;for(f=[],c=0,d=a.length;d>c;c++)e=a[c],f.push(function(a){return function(c){return b(a,c)}}(e));return f}(),this.parallel(f,c,d)},parallel:function(a,b,c){var d,e,f,g,h,i,j,k,l;if(null===a?a=[]:null===b&&(b=function(){}),d=a.length,j=[],0===d)return b(null,j);for(e=[],f=!1,k=[],g=h=0,i=a.length;i>h;g=++h)l=a[g],k.push(function(a,g){var h,i;i=function(){var a,h;if(arguments[0],a=(h=2<=arguments.length)?utils.slice.call(arguments,1):[]){if(e[g]=a,f=!0,!c)return b(e,j)}else j[g]=h.length<2?h[0]:h;return--d<=0?f?b(e,j):b(null,j):void 0};try{return a(i)}catch(k){return h=k,i(h)}}(l,g));return k},series:function(a,b,c){var d,e,f,g,h,i;return null===a&&(a=[]),null===b&&(b=function(){}),g=-1,d=a.length,i=[],0===d?b(null,i):(e=[],f=!1,(h=function(){var j,k,l;if(arguments[0],k=(l=2<=arguments.length)?utils.slice.call(arguments,1):[]){if(e[g]=k,f=!0,!c)return b(e,i)}else g>-1&&(i[g]=l.length<2?l[0]:l);if(++g>=d)return f?b(e,i):b(null,i);try{return a[g](h)}catch(m){return j=m,h(j)}})())},first:function(a,b,c){var d,e,f,g,h;return null===a&&(a=[]),null===b&&(b=function(){}),f=-1,d=a.length,h=null,0===d?b(null):(e=[],(g=function(){var h,i,j;if(arguments[0],i=(j=2<=arguments.length)?utils.slice.call(arguments,1):[]){if(e[f]=i,!c)return b(e)}else if(f>-1)return b(null,j.length<2?j[0]:j);if(++f>=d)return b(e);try{return a[f](g)}catch(k){return h=k,g(h)}})())},waterfall:function(a,b){var c,d;return c=-1,0===a.length?b():(d=function(){var e,f;return arguments[0],e=(f=2<=arguments.length)?utils.slice.call(arguments,1):[],null!==e?b(e):++c>=a.length?b.apply(null,[null].concat(utils.slice.call(f))):a[c].apply(a,utils.slice.call(f).concat([d]))})()}}};var Broker;Broker=function(){function a(a,b){this.cascade=b?!0:!1,this.channels={},utils.isObj(a)?this.install(a):a===!0&&(this.cascade=!0)}return a.prototype.bind=function(a,b){return function(){return a.apply(b,arguments)}},a.prototype.on=function(a,b,c){var d,e=this;return c&&null!==c||(c=this),this.channels[a]||(this.channels[a]=[]),d={event:a,context:c,callback:b||function(){}},{listen:function(){return e.channels[a].push(d),this},ignore:function(){return e.off(a),this}}.listen()},a.prototype.off=function(a){var b,c,d=0;if(this.channels[a.event]&&(b=this.channels[a.event],c=b.length,c>0))do b[idx]===a.callback&&b.splice(idx,1),d++;while(--c)},a.prototype.fire=function(a,b){var c,d=0,e=b?b:[],f=this.channels.length;if(this.channels[a]&&(c=this.channels[a],f>0))do c[d].call(this,e),d++;while(--f)},a.prototype.install=function(a,b){var c,d;if(utils.isObj(a))for(c in this)d=this[c],b?a[c]=d:a[c]||(a[c]=d);return this},a}(this);var API;API=function(){var a="__";return{create:function(b,c,d,e){return this.id=c,this.module=e,this.options=null!==d?d:{},this.utils=utils,b._broker.install(this),this.elem=function(a){return utils.isStr(a)?document.createElement(a):(b.log("Error :: Element must be type String."),!1)},this.query=function(a,b){var c,d={},e=this;return c=b&&b.find?b.find(a):$(a),d=c,d.length=c.length,d.query=function(a){return e.query(a,c)},d},this.hitch=function(a){var b,c;return b=[].slice.call(arguments).splice(1),function(){return c=b.concat([].slice.call(arguments)),a.apply(this,c)}},this.methodCache=function(b,c,d){var e;return c||(c={}),function(f){return e=arguments.length>1?[].join.call(arguments,a):String(f),(!(e in c)||d&&c[e]===d)&&(c[e]=b.apply(b,arguments)),c[e]}},this}}};var GUI,config;GUI=function(){function a(a,b,c){return typeof b!==a?c+" has to be a "+a:void 0}function b(){this.history=[],this.configure=function(a){null!==a&&utils.isObj(a)&&(this.config=a,this.log("config set :: ",this.config))},this._modules={},this._plugins=[],this._instances={},this._sandboxes={},this._running={},this._broker=new Broker(this),this.Broker=Broker}return b.prototype.log=function(){this.history.push(arguments),console&&console.log([].slice.call(arguments)),this.config.debug&&console.log(this.history)},b.prototype.create=function(b,c,d){var e;return d&&null!==d||(d={}),(e=a("string",b,"module ID")||a("function",c,"creator")||a("object",d,"option parameter"))?(this.log("could not register module '"+b+"': "+e),this):b in this._modules?(this.log("module "+b+" was already registered"),this):(this._modules[b]={id:b,creator:c,options:d},this)},b.prototype.start=function(b,c,d){var f,g,h;return c&&null!==c||(c={}),d&&null!==d||(d=function(){}),0===arguments.length?this._startAll():b instanceof Array?this._startAll(b,c):"function"==typeof b?this._startAll(null,b):("function"==typeof c&&(d=c,c={}),(f=a("string",b,"module ID")||a("object",c,"second parameter")||(this._modules[b]?void 0:"module doesn't exist"))?this._fail(f,d):(g=c.instanceId||b,this._running[g]===!0?this._fail(new Error("module was already started"),d):(h=function(a){return function(b,c,f){if(b)return a._fail(b,d);try{return utils.hasArgs(c.load,2)?c.load(f,function(b){return b||(a._running[g]=!0),d(b)}):(c.load(f),a._running[g]=!0,d())}catch(h){return e=h,a._fail(e,d)}}}(this),this.boot(function(a){return function(e){return e?a._fail(e,d):a._createInstance(b,c,h)}}(this)))))},b.prototype.stop=function(a,b){var c;return null===cb&&(cb=function(){}),0===arguments.length||"function"==typeof a?utils.run.all(function(){var a,b=[];for(a in this._instances)b.push(a);return b}.call(this),function(a){return function(){return a.stop.apply(a,arguments)}}(this),a,!0):c===this._instances[a]&&(delete this._instances[a],this._broker.off(c),this._runSandboxPlugins("unload",this._sandboxes[a],function(b){return function(d){return utils.hasArgs(c.unload)?c.unload(function(c){return delete b._running[a],cb(d||c)}):("function"==typeof c.unload&&c.unload(),delete b._running[a],cb(d))}}(this))),this},b.prototype.plugin=function(a,b){var c=this;a.fn&&"function"==typeof a.fn?$.fn[b.toLowerCase()]=function(b){return new a.fn(this,b)}:c.log("Error :: Missing "+a+" fn() method.")},b.prototype.boot=function(a){var b,c,d;return b=this,d=function(){var a,d,e,f;for(e=this._plugins,f=[],a=0,d=e.length;d>a;a++)c=e[a],c.booted!==!0&&f.push(function(a){return utils.hasArgs(a.creator,3)?function(c){var d;return a.creator(b,a.options,function(b){return b||(a.booted=!0,a.plugin=d),c()})}:function(c){return a.plugin=a.creator(b,a.options),a.booted=!0,c()}}(c));return f}.call(this),utils.run.series(d,a,!0),this},b.prototype._fail=function(a,b){return this.log(a),b(new Error("could not start module: "+a.message)),this},b.prototype._startAll=function(a,b){var c,d;return a&&null!==a||(a=function(){var a,b=[];for(a in this._modules)b.push(a);return b}.call(this)),d=function(a){return function(b,c){return a.start(b,a._modules[b].options,c)}}(this),c=function(c){var d,e,f,g,h,i,j;if((null!==c?c.length:void 0)>0){for(i={},e=f=0,g=c.length;g>f;e=++f)j=c[e],null!==j&&(i[a[e]]=j);h=function(){var a,b=[];for(a in i)b.push("'"+a+"'");return b}(),d=new Error("errors occurred in the following modules: "+h),d.moduleErrors=i}return"function"==typeof b?b(d):void 0},utils.run.all(a,d,c,!0),this},b.prototype._createInstance=function(a,b,c){var d,e,f,g,h,i,j,k,l,m,n;if(k=b.options,e=b.instanceId||a,i=this._modules[a],this._instances[e])return c(this._instances[e]);for(d={},l=[i.options,k],f=0,h=l.length;h>f;f++)if(j=l[f])for(g in j)n=j[g],null===d[g]&&(d[g]=n);return m=(new API).create(this,e,d,a),this._runSandboxPlugins("load",m,function(a){return function(b){var f;return f=new i.creator(m),"function"!=typeof f.load?f.fn&&"function"==typeof f.fn?a.plugin(f,e):c(new Error("module has no 'load' method")):(a._instances[e]=f,a._sandboxes[e]=m,c(null,f,d))}}(this))},b.prototype._runSandboxPlugins=function(a,b,c){var d,e;return e=function(){var c,e,f,g,h;for(f=this._plugins,h=[],c=0,e=f.length;e>c;c++)d=f[c],"function"==typeof(null!==(g=d.plugin)?g[a]:void 0)&&h.push(function(c){var d;return d=c.plugin[a],function(a){return utils.hasArgs(d,3)?d(b,c.options,a):(d(b,c.options),a())}}(d));return h}.call(this),utils.run.series(e,c,!0)},b}(this),function(a){var b;b=new GUI,a.GUI=function(){var a=[].slice.call(arguments),c=a[0]instanceof Object?a[0]:null,d=b;return null!==c&&d.configure(c),d},a.fn.GUI=function(b){return this.each(function(){return a.data(this,"guerrilla")?(new a.GUI).create(this,b):void a.data(this,"guerrilla",(new a.GUI).create(this,b))})}}(jQuery),$.GUI().create("Fog",function(a){function b(a){this.x=0,this.y=0,this.xVelocity=0,this.yVelocity=0,this.radius=5,this.context=a,this.draw=function(){return this.image?void this.context.drawImage(this.image,this.x-128,this.y-128):(this.context.beginPath(),this.context.arc(this.x,this.y,this.radius,0,2*Math.PI,!1),this.context.fillStyle="rgba(0, 255, 255, 0)",this.context.fill(),void this.context.closePath())},this.update=function(){this.x+=this.xVelocity,this.y+=this.yVelocity,this.x>=k?(this.xVelocity=-this.xVelocity,this.x=k):this.x<=0&&(this.xVelocity=-this.xVelocity,this.x=0),this.y>=l?(this.yVelocity=-this.yVelocity,this.y=l):this.y<=0&&(this.yVelocity=-this.yVelocity,this.y=0)},this.setPosition=function(a,b){this.x=a,this.y=b},this.setVelocity=function(a,b){this.xVelocity=a,this.yVelocity=b},this.setImage=function(a){this.image=a}}function c(a,b){return Math.random()*(b-a)+a}function d(){var a=document.getElementById("bg-canvas");if(a.getContext){n=a.getContext("2d");for(var d=0;h>d;++d){var e=new b(n);e.setPosition(c(0,k),c(0,l)),e.setVelocity(c(-i,i),c(-i,i)),g.push(e)}}else alert("Please use a modern browser")}function e(){n.clearRect(0,0,k,l),g.forEach(function(a){a.draw()})}function f(){g.forEach(function(a){a.update()})}console.log("Fog Sandbox :: ",a);var g=[],h=30,i=2,j=33,k=400,l=400,m=new Image;m.onload=function(){g.forEach(function(a){a.setImage(m)})},m.src="img/fog.png";var n;return{fn:function(){console.log("starting fog library."),d(),n&&setInterval(function(){f(),e()},1e3/j)},unload:function(){}}}),$.GUI().create("Slider",function(a){return{load:function(){},unload:function(){}}}),$.GUI().create("Stargaze",function(a){console.log("Stargaze Sandbox :: ",a);var b=function(a,b){function c(){this.x=Math.random()*a.width,this.y=Math.random()*a.height,this.vx=g.velocity-.5*Math.random(),this.vy=g.velocity-.5*Math.random(),this.radius=Math.random()*g.star.width}var d=$(a)||null,e=a?a.getContext("2d"):null,f={star:{color:"rgba(255, 255, 255, .7)",width:1},line:{color:"rgba(255, 255, 255, .7)",width:.2},position:{x:0,y:0},width:window.innerWidth,height:window.innerHeight,velocity:.1,length:100,distance:100,radius:150,stars:[]},g=$.extend(!0,{},f,b);c.prototype={create:function(){e.beginPath(),e.arc(this.x,this.y,this.radius,0,2*Math.PI,!1),e.fill()},animate:function(){var b;for(b=0;b<g.length;b++){var c=g.stars[b];c.y<0||c.y>a.height?(c.vx=c.vx,c.vy=-c.vy):(c.x<0||c.x>a.width)&&(c.vx=-c.vx,c.vy=c.vy),c.x+=c.vx,c.y+=c.vy}},line:function(){var a,b,c,d,f=g.length;for(c=0;f>c;c++)for(d=0;f>d;d++)a=g.stars[c],b=g.stars[d],a.x-b.x<g.distance&&a.y-b.y<g.distance&&a.x-b.x>-g.distance&&a.y-b.y>-g.distance&&a.x-g.position.x<g.radius&&a.y-g.position.y<g.radius&&a.x-g.position.x>-g.radius&&a.y-g.position.y>-g.radius&&(e.beginPath(),e.moveTo(a.x,a.y),e.lineTo(b.x,b.y),e.stroke(),e.closePath())}},this.createStars=function(){var b,d,f=g.length;for(e.clearRect(0,0,a.width,a.height),d=0;f>d;d++)g.stars.push(new c),b=g.stars[d],b.create();b.line(),b.animate()},this.setCanvas=function(){a.width=g.width,a.height=g.height},this.setContext=function(){e.fillStyle=g.star.color,e.strokeStyle=g.line.color,e.lineWidth=g.line.width},this.setInitialPosition=function(){b&&b.hasOwnProperty("position")||(g.position={x:.5*a.width,y:.5*a.height})},this.loop=function(a){a(),window.requestAnimationFrame(function(){this.loop(a)}.bind(this))},this.bind=function(){$(document).on("mousemove",function(a){g.position.x=a.pageX-d.offset().left,g.position.y=a.pageY-d.offset().top})},this.init=function(){this.setCanvas(),this.setContext(),this.setInitialPosition(),this.loop(this.createStars),this.bind()}};return{fn:function(){var a=arguments[0],c=a[0],d=a[1];return console.log("starting stargaze."),new b(c,d).init()},unload:function(){}}}),$.GUI().create("Model",function(a){var b;return b=function(a){function b(a){b.__super__.constructor.call(this);for(c in a)d=a[c],null===this[c]&&(this[c]=d);this.set=function(a,e,f){switch(null===f&&(f=!1),typeof a){case"object":for(c in a)d=a[c],this.set(c,d,!0);if(!f)return this.fire(b.CHANGED,function(){var b=[];for(c in a)d=a[c],b.push(c);return b}());break;case"string":return"set"!==a&&"get"!==a&&this[a]!==e?(this[a]=e,f||this.fire(b.CHANGED,[a])):"undefined"!=typeof console&&null!==console&&"function"==typeof console.error&&console.error("key is not a string"),this}}}var c,d;return utils.combine(b,a),b.prototype.change=function(a,c){return"function"==typeof a?this.on(b.CHANGED,a,c):0===arguments.length?this.fire(b.CHANGED):void 0},b}(a.Broker),{load:function(){a.log("Model Object Class :: ",b)},unload:function(){}}}),$.GUI().create("View",function(a){var b;return b=function(){function b(b){return b?this.setModel(b):(this.setModel=function(a){return this.model=a,this.model.change(function(){return this.render()},this)},void(this.render=function(){a.log("Render method called in View.")}))}return b}(),{load:function(){a.log("View class :: ",b)},unload:function(){}}}),$.GUI().create("Controller",function(a){var b;return b=function(){function a(a,b){this.model=a,this.view=b}return a}(),GUI.Model=Model,GUI.View=View,GUI.Controller=b,{load:function(){a.log("Controller class :: ",b)},unload:function(){}}});